# Story 2.5.3: Header Mode Switcher & About Page

## Status

Draft

## Story

**As a** website visitor navigating subpages,
**I want** a compact Mode switcher in the header alongside the theme toggle so that I can switch between site sections without returning to the homepage, plus access a personal About page that reflects Philip's individual brand.

## Acceptance Criteria

1. **Header Mode Switcher Implementation**
   - Existing Miovox logo on the left (unchanged)
   - Mode switcher component positioned next to the theme toggle on the right
   - Four mode options displayed as: icon + text label
   - Current page mode highlighted/active state
   - Consistent visual language matching the existing ThemeToggle component

2. **Mode Switcher Visual Design**
   - Use ServiceIcon with theme-aware icons for Products, Events, Home Tech modes
   - Use ServiceIcon with about icon for About mode
   - Display text labels: "Products", "Events", "Home Tech", "About"
   - Match ThemeToggle's button group styling and spacing
   - Include hover states consistent with theme toggle behavior
   - Adapt to different screen sizes (icon-only on mobile if needed)

3. **Header Layout & Responsive Behavior**
   - **Desktop (≥1025px)**: Show full mode switcher with icon + text labels
   - **Tablet (641px-1024px)**: Show abbreviated labels or icon + shortened text
   - **Mobile (≤640px)**: Consider icon-only mode switcher or collapsible menu
   - Maintain adequate spacing between logo, mode switcher, and theme toggle
   - Ensure touch targets remain ≥44px

4. **About Page Creation**
   - MainLayout with header (including mode switcher)
   - Personal content with "It's This Guy" theme/approach
   - ServiceIcon about variant prominently displayed
   - Content that reflects personal branding vs corporate messaging
   - Consistent styling with other site pages
   - Proper SEO metadata and page title

5. **Navigation State Management**
   - Navigate to the correct route immediately
   - Update active/highlighted state to show current page
   - Maintain smooth transitions without page flash
   - Preserve existing page functionality after navigation
   - Handle browser back/forward navigation correctly
   - Update document title and meta description appropriately

## Tasks / Subtasks

- [ ] Implement ServiceNavigation header variant (AC: 1, 2, 3)
  - [ ] Add header variant rendering logic to existing ServiceNavigation component
  - [ ] Create compact mode switcher UI with icon + text labels
  - [ ] Add usePathname hook to detect current active service
  - [ ] Implement responsive behavior for different screen sizes
  - [ ] Add hover states and interactive feedback
  - [ ] Ensure accessibility compliance with ARIA labels and keyboard navigation
- [ ] Integrate mode switcher into Header component (AC: 1, 3)
  - [ ] Modify src/components/sections/Header.tsx to include ServiceNavigation header variant
  - [ ] Position mode switcher between logo and theme toggle
  - [ ] Maintain proper spacing and visual hierarchy in header
  - [ ] Ensure responsive layout works across all breakpoints
  - [ ] Test header integration doesn't break existing theme switching
- [ ] Create About page with personal branding (AC: 4)
  - [ ] Create new page file at src/app/about/page.tsx
  - [ ] Add proper metadata with title and description
  - [ ] Implement personal content with "It's This Guy" approach
  - [ ] Display ServiceIcon about variant prominently
  - [ ] Follow existing page patterns while adding personal voice
  - [ ] Ensure consistent styling with other site pages
- [ ] Update services configuration (AC: 5)
  - [ ] Update about service href from "/" to "/about" in src/data/services.ts
  - [ ] Test navigation works correctly from homepage and header
  - [ ] Verify all service navigation routes are functional
- [ ] Add comprehensive testing (AC: 1-5)
  - [ ] Test header integration across all existing pages
  - [ ] Test mode switcher navigation from all starting points
  - [ ] Test About page rendering and content
  - [ ] Test responsive behavior on mobile/tablet/desktop
  - [ ] Test accessibility and keyboard navigation
  - [ ] Test active state management and route detection

## Dev Notes

### Previous Story Insights

From Story 2.5.2 completion:
- ServiceNavigation component successfully created with homepage variant
- Component architecture supports variant-based rendering (`variant="homepage" | "header"`)
- ServiceIcon component available from Story 2.5.1 with all service variants
- About service temporarily links to "/" instead of "/about" (to be fixed in this story)
- Testing patterns established with Vitest and React Testing Library

From Story 2.5.1 completion:
- ServiceIcon component available with all service variants (products, events, home-tech, about)
- Theme-aware icon system working seamlessly with existing theme switching
- Size variants from small (16px) to xxlarge (64px) implemented

### Component Architecture

[Source: architecture/components.md#4-feature-components]

**ServiceNavigation Component**: Single unified component with variant-based rendering:
- **Homepage variant** (`variant="homepage"`): 1×4 desktop grid (2×2 mobile) with rich visual tiles
- **Header variant** (`variant="header"`): Compact inline switcher with icon + text labels

**Component Interface**:
```typescript
interface ServiceNavigationProps {
  variant: 'homepage' | 'header';
  className?: string;
}

interface ServiceConfig {
  id: 'product' | 'events' | 'home' | 'about';
  label: string;
  tagline: string;
  href: string;
  icon: 'products' | 'events' | 'home-tech' | 'about';
  // ... other properties
}
```

### Service Configuration

[Source: src/data/services.ts]
Service definitions centralized with current configuration:
- Products: `/product`, icon: 'products', label: 'Products'
- Events: `/events`, icon: 'events', label: 'Events'  
- Home Tech: `/home`, icon: 'home-tech', label: 'Home Tech'
- About: Currently `href: "/"` (needs update to `/about`), icon: 'about', label: 'About'

### Header Integration Strategy

[Source: src/components/sections/Header.tsx]
Current header structure:
```typescript
<header className="bg-background border-b border-border sticky top-0 z-50">
  <Container>
    <div className="flex items-center justify-between py-4">
      <Link href="/" className="flex items-center">
        <Image src={logoSrc} alt="Miovox" ... />
      </Link>
      <ThemeToggle />
    </div>
  </Container>
</header>
```

**Updated Structure Required**:
```typescript
<div className="flex items-center gap-4">
  <ServiceNavigation variant="header" />
  <ThemeToggle />
</div>
```

### State Management Architecture

[Source: architecture/frontend-architecture.md#state-management-architecture]

- **Current Service Detection**: Use `usePathname()` hook to automatically determine active service based on route
- **Service Icons**: ServiceIcon component handles all service icons with theme awareness
- **Route Detection**: Built-in Next.js hooks for pathname detection and navigation

### Routing Architecture

[Source: architecture/frontend-architecture.md#routing-architecture]

Service Navigation Routes:
- **Products**: `/product` - AI Product Development ("Crafting Tools")
- **Events**: `/events` - Event Media Production ("Crafting Memories")  
- **Home Tech**: `/home` - Home Tech Solutions ("Crafting Lifestyles")
- **About**: `/about` - About Philip ("Philip Jones") - **NEW ROUTE TO CREATE**

### File Locations

[Source: architecture/unified-project-structure.md]

```
src/app/
├── about/
│   └── page.tsx              # NEW: About page with personal content
├── page.tsx                  # Homepage with ServiceNavigation

src/components/
├── sections/
│   └── Header.tsx            # MODIFY: Add ServiceNavigation header variant
├── features/
│   └── ServiceNavigation.tsx # MODIFY: Add header variant implementation

src/data/
└── services.ts               # MODIFY: Update about service href to "/about"
```

### Technical Constraints

[Source: architecture/coding-standards.md]
- Strict TypeScript with no `any` types allowed
- Styling exclusively with Tailwind CSS utility classes
- Centralized data access patterns

[Source: architecture/tech-stack.md]
- Next.js ~14.2 with App Router for file-system based routing
- React ~18.2 functional components with hooks for state management
- Tailwind CSS ~3.4 utility-first framework

### About Page Content Strategy

Based on Epic requirements for "It's This Guy" approach:
- Personal voice vs corporate messaging
- ServiceIcon about variant prominently displayed (philip.png optimized)
- Maintain consistency with site styling while adding personal touch
- Proper SEO metadata focusing on Philip as individual

### Testing Requirements

[Source: architecture/testing-strategy.md]

Testing follows the Testing Pyramid with Unit/Integration tests using **Vitest ~1.5** and **React Testing Library**:

Test file structure:
```
src/components/features/
├── ServiceNavigation.tsx
└── ServiceNavigation.test.tsx  # UPDATE: Add header variant tests

src/components/sections/
├── Header.tsx
└── Header.test.tsx             # UPDATE: Add mode switcher integration tests

src/app/about/
├── page.tsx
└── page.test.tsx               # NEW: About page tests
```

Specific test cases to implement:
- Header integrates mode switcher without layout issues
- Active state reflects current page correctly (usePathname detection)
- About page renders with proper content and styling
- Mode navigation works from all starting pages (/product, /events, /home, /about)
- Responsive behavior maintains usability across breakpoints
- Keyboard navigation and accessibility compliance
- Theme switching continues to work with new header layout

### Performance Requirements

- Maintain existing header performance
- Ensure ServiceNavigation header variant doesn't impact page load
- Active state detection should be efficient (usePathname hook)
- No additional network requests for navigation state

### Accessibility Requirements

- ARIA labels for mode switcher buttons
- Keyboard navigation support for all mode options
- Focus indicators for interactive elements
- Screen reader compatibility
- Touch-friendly targets (≥44px) maintained across responsive breakpoints

### Dependencies

- ✅ Story 2.5.1 (ServiceIcon Component) completed - icons available for all services
- ✅ Story 2.5.2 (Homepage ServiceNavigation) completed - component foundation exists
- ✅ Existing Header.tsx structure understood and theme integration working
- ✅ Service configuration in src/data/services.ts available for modification
- ⚠️ About page content needs to be written (can use placeholder initially)
- ⚠️ About service href update required in services configuration

## Change Log

| Date       | Version | Description                                      | Author              |
| ---------- | ------- | ------------------------------------------------ | ------------------- |
| 2025-08-07 | 1.0     | Initial story created from Epic 2.5 handoff     | Story Manager Agent |